(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{27:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n(1),l=n.n(c),s=n(21),i=n.n(s),o=(n(27),function(){return Object(r.jsx)("nav",{className:"navbar navbar-light bg-warning",children:Object(r.jsx)("p",{className:"navbar-brand m-0 font-weight-bolder ",children:"Data Finder"})})}),u=n(2),d=n(8),b=n.n(d),j=n(11),h=n(3),m=n(12),O=n.n(m),f=n(4),p=n(6),g="SMALL DATA",v="BIG DATA",x="ADD DATA",N="SMALL VOLUME",w="SET SMALL LOADING",y="SET BIG LOADING",C="SET INFO",k="SET ERROR",S=function(e,t,n){if(e.length<t)return e;var a=t*(n-1),r=a+t;return e.slice(a,r)},D=function(e,t,n){return Object(p.a)(e).sort((function(e,a){return n?e[t]>a[t]?1:-1:n?0:e[t]<a[t]?1:-1}))},L=function(e){return e[0].toUpperCase()+e.slice(1)},F=(a={},Object(f.a)(a,g,(function(e,t){var n=t.payload,a=t.smallVolume,r=void 0===a?null:a;return Object(u.a)(Object(u.a)({},e),{},{data:n,sortingData:[],smallLoading:!1,sortingType:null,error:null,smallVolume:r})})),Object(f.a)(a,v,(function(e,t){var n,a,r,c=t.payload;return Object(u.a)(Object(u.a)({},e),{},{data:(n=[].concat(Object(p.a)(e.data),Object(p.a)(c)),a="id",r="firstName",n.filter((function(e,t,n){return t===n.findIndex((function(t){return t[a]===e[a]&&t[r]===e[r]}))}))),sortingData:[],bigLoading:!1,smallVolume:null,error:null,sortingType:null})})),Object(f.a)(a,x,(function(e,t){var n=t.obj;return Object(u.a)(Object(u.a)({},e),{},{data:[n].concat(Object(p.a)(e.data))})})),Object(f.a)(a,C,(function(e,t){var n=t.obj;return Object(u.a)(Object(u.a)({},e),{},{info:n})})),Object(f.a)(a,k,(function(e,t){var n=t.error;return Object(u.a)(Object(u.a)({},e),{},{error:n})})),Object(f.a)(a,N,(function(e,t){var n=t.smallVolume;return Object(u.a)(Object(u.a)({},e),{},{smallVolume:n,smallLoading:!1,sortingType:null,sortingData:[]})})),Object(f.a)(a,w,(function(e,t){var n=t.loading;return Object(u.a)(Object(u.a)({},e),{},{smallLoading:n})})),Object(f.a)(a,y,(function(e,t){var n=t.loading;return Object(u.a)(Object(u.a)({},e),{},{bigLoading:n})})),Object(f.a)(a,"DEFAULT",(function(e){return e})),a),M=function(e,t){return(F[t.type]||F.DEFAULT)(e,t)},A=Object(c.createContext)(),T=function(e){var t=e.children,n=Object(c.useReducer)(M,{data:[],errors:null,info:null,smallVolume:null,smallLoading:!1,bigLoading:!1}),a=Object(h.a)(n,2),l=a[0],s=a[1],i=function(e){return s({type:w,loading:e})},o=function(e){return s({type:y,loading:e})},d=function(e){return s({type:N,smallVolume:e})},m=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),32,!(l.data.length>=32)){e.next=5;break}return d(32),e.abrupt("return");case 5:return e.prev=5,e.next=8,O.a.get("https://my.api.mockaroo.com/small-tabledata.json?key=2c7b77e0");case 8:t=e.sent,s({type:g,payload:t.data}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),i(!1),s({type:k,error:"Error while loading data from server"});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1e3,!(l.data.length>=1e3)){e.next=4;break}return d(null),e.abrupt("return");case 4:return o(!0),e.prev=5,e.next=8,m();case 8:return e.next=10,O.a.get("https://my.api.mockaroo.com/tabledata.json?key=2c7b77e0#32");case 10:t=e.sent,s({type:v,payload:t.data}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),o(!1),s({type:k,error:"Error while loading data from server"});case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(A.Provider,{value:Object(u.a)(Object(u.a)({},l),{},{setInfo:function(e){return s({type:C,obj:e})},getBigData:f,getSmallData:m,addData:function(e){return s({type:x,obj:e})}}),children:t})},z=function(){var e=Object(c.useContext)(A),t=e.getSmallData,n=e.getBigData;return Object(r.jsx)("div",{className:"mb-2",children:Object(r.jsxs)("select",{onChange:function(e){switch(e.target.value){case"big":n();break;case"small":t()}},className:"custom-select",children:[Object(r.jsx)("option",{value:"select data volume",children:"Select data volume"}),Object(r.jsx)("option",{value:"big",children:"Big data"}),Object(r.jsx)("option",{value:"small",children:"Small data"})]})})},E=function(){var e=Object(c.useContext)(A),t=e.info,n=e.setInfo;if(!t)return null;var a=t.firstName,l=t.lastName,s=t.description,i=t.address;return Object(r.jsx)("div",{className:"jumbotron jumbotron-fluid",id:"info",children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)("button",{onClick:function(){return n(null)},type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(r.jsx)("span",{children:"\xd7"})}),Object(r.jsxs)("h4",{className:"ml-2",children:["Selected person : ",Object(r.jsx)("b",{children:a+" "+l})]}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[s&&Object(r.jsxs)("li",{className:"list-group-item",children:["Description :",Object(r.jsx)("p",{className:"mb-0",children:s})]}),i&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("li",{className:"list-group-item",children:["Address : ",Object(r.jsx)("b",{children:i.streetAddress})]}),Object(r.jsxs)("li",{className:"list-group-item",children:["City : ",Object(r.jsx)("b",{children:i.city})]}),Object(r.jsxs)("li",{className:"list-group-item",children:["State : ",Object(r.jsx)("b",{children:i.state})]}),Object(r.jsxs)("li",{className:"list-group-item",children:["Zip : ",Object(r.jsx)("b",{children:i.zip})]})]})]})]})})},_=function(){return Object(r.jsx)("div",{className:"text-center text-warning mt-3 mb-3",children:Object(r.jsx)("div",{className:"spinner-border",role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})})})},V=function(e){for(var t=e.chunkNumber,n=e.setChunkNumber,a=e.totalChunks,c=[],l=1;l<=a;l++)c.push(l);var s=480,i=980,o=(window.innerWidth<s?6:window.innerWidth<i&&10)||20,u=Math.ceil(t/o),d=(u-1)*o+1,b=u*o,j=c.filter((function(e){return e<=b&&e>=d})),h=function(e,t){e.preventDefault(),n(t)};return Object(r.jsx)("nav",{"aria-label":"Search results pages",children:Object(r.jsxs)("ul",{className:"pagination justify-content-center",children:[t>1&&Object(r.jsx)("li",{className:"page-item",children:Object(r.jsx)("a",{className:"page-link",href:"/","aria-label":"Previous",onClick:function(e){return h(e,--t)},children:Object(r.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),j.map((function(e){return Object(r.jsx)("li",{className:"page-item ".concat(e===t&&"active"),children:Object(r.jsx)("a",{className:"page-link",href:"/",onClick:function(t){return h(t,e)},children:e})},e)})),t<a&&Object(r.jsx)("li",{className:"page-item",children:Object(r.jsx)("a",{className:"page-link",href:"/","aria-label":"Next",onClick:function(e){return h(e,++t)},children:Object(r.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})},B=Object(r.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-sort-down",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{fillRule:"evenodd",d:"M3 2a.5.5 0 0 1 .5.5v10a.5.5 0 0 1-1 0v-10A.5.5 0 0 1 3 2z"}),Object(r.jsx)("path",{fillRule:"evenodd",d:"M5.354 10.146a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L3 11.793l1.646-1.647a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 9a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"})]},"asc"),I=Object(r.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-sort-down-alt",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{fillRule:"evenodd",d:"M3 3a.5.5 0 0 1 .5.5v10a.5.5 0 0 1-1 0v-10A.5.5 0 0 1 3 3z"}),Object(r.jsx)("path",{fillRule:"evenodd",d:"M5.354 11.146a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L3 12.793l1.646-1.647a.5.5 0 0 1 .708 0zM7 6.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 0-1h-3a.5.5 0 0 0-.5.5zm0 3a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 0-1h-5a.5.5 0 0 0-.5.5zm0 3a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5zm0-9a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 0-1h-1a.5.5 0 0 0-.5.5z"})]},"desc"),R=Object(r.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 17 17",className:"bi bi-arrow-up-circle-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)("path",{fillRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"})}),P=Object(r.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-search",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{fillRule:"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),Object(r.jsx)("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"})]}),H=function(e){var t=e.fieldNames,n=e.setFilterConfig,a={type:"firstName",value:""},l=Object(c.useState)(!1),s=Object(h.a)(l,2),i=s[0],o=s[1],d=Object(c.useState)(a),b=Object(h.a)(d,2),j=b[0],m=b[1];Object(c.useEffect)((function(){n(a)}),[]);var O=function(){n(Object(u.a)({},j))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"input-group-prepend position-relative",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-warning dropdown-toggle dropdown-toggle-split btn__custom mt-0 ","data-toggle":"Search Type","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return o(!i)},children:L(j.type)+" "}),Object(r.jsx)("div",{className:"dropdown-menu ".concat(i&&"show"),children:t.map((function(e,t){return Object(r.jsx)("a",{className:"dropdown-item",onClick:function(t){return function(e,t){e.preventDefault(),m(Object(u.a)(Object(u.a)({},j),{},{type:t})),o(!1)}(t,e)},href:"/",children:L(e)},t)}))})]}),Object(r.jsx)("input",{value:j.value,onChange:function(e){return function(e){m(Object(u.a)(Object(u.a)({},j),{},{value:e.target.value}))}(e)},onKeyPress:function(e){"Enter"===e.key&&O()},type:"text",className:"form-control border-warning",placeholder:"Table search"}),Object(r.jsx)("div",{className:"input-group-append input-group__custom ",id:"button-addon4",children:Object(r.jsx)("button",{type:"button",className:"btn btn-outline-warning btn__custom",onClick:O,children:P})})]})},U=function(e){var t=e.showToggle,n=e.editMode,a=e.allFieldsValid,c=e.onSubmit;return Object(r.jsxs)("div",{className:"input-group-append input-group__custom ",id:"button-addon4",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-sm btn__custom font-weight-bold ".concat(n?"btn-outline-danger":"btn-outline-success"),onClick:t,children:n?"Cancel":"Add data"}),a&&Object(r.jsx)("button",{type:"button",className:"btn btn__custom btn-outline-success btn-sm btn-block font-weight-bold",onClick:c,children:"Add to table"})]})},G=function(e){var t=e.text,n=e.classCss;return Object(r.jsx)("div",{className:"alert alert-danger mb-0 p-1 text-center ".concat(n),role:"alert",children:t})},$=function(e){var t=e.placeholder,n=e.valid,a=void 0===n||n,l=e.name,s=e.onChange,i=e.value,o=e.type,u=void 0===o?"text":o,d=e.onEnterPress,b=void 0===d?function(){}:d,j=Object(c.useState)(!0),m=Object(h.a)(j,2),O=m[0],f=m[1],p=Object(c.useState)(!1),g=Object(h.a)(p,2),v=g[0],x=g[1],N=!a&&!O&&v||!v&&i&&!a;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{placeholder:t,type:u,name:l,value:i,onChange:function(e){return s(e)},onBlur:function(){return f(!1)},onKeyPress:function(e){return function(e){"Enter"===e.key&&(f(!1),b())}(e)},onFocus:function(){x(!0),f(!0)},className:"form-control form-control__custom bg-light ".concat(N&&"border-danger")}),N&&Object(r.jsx)(G,{text:"Enter correct data",classCss:"alert-custom"})]})},J=function(e){var t=e.fields,n=e.fieldNames,a=e.changeHandler,c=e.onSubmit;return Object(r.jsxs)("form",{children:[Object(r.jsx)("h5",{className:"text-center",children:"Fill in all form fields"}),Object(r.jsx)("div",{className:"input-group input-container",children:n.map((function(e,n){return Object(r.jsx)($,{type:("email"===e?"email":"id"===e&&"number")||"phone"===e&&"tel"||"text",value:t[e].value,valid:t[e].valid,name:e,"aria-label":e,onChange:a,onEnterPress:c,placeholder:e[0].toUpperCase()+e.slice(1)},n)}))})]})},K=function(e){var t=e.addData,n=e.setFilterConfig,a=function(e,t){var n=Object(c.useState)(!1),a=Object(h.a)(n,2),r=a[0],l=a[1],s=Object(c.useState)(e),i=Object(h.a)(s,2),o=i[0],d=i[1],b=Object.keys(o),j=b.every((function(e){return o[e].valid}));return{fields:o,fieldNames:b,editMode:r,allFieldsValid:j,showToggle:function(){r&&d(e),l(!r)},changeHandler:function(e){var t=e.target.name,n=e.target.value.trim(),a=function(e,t){switch(e){case"id":return!!t&&0<+t&&+t<1e5;case"email":return!!t&&/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i.test(t);case"phone":return/^((8|\+7)?)?(\(?\d{3}\)?)?[\d\- ]{7,10}$/.test(t);default:return!!t&&/^([\D-]+)$/i.test(t)&&t.length>2}}(t,n);d(Object(u.a)(Object(u.a)({},o),{},Object(f.a)({},t,Object(u.a)(Object(u.a)({},[t]),{},{value:n,valid:a}))))},onSubmit:function(){if(!j)return null;var n=Object.keys(o).reduce((function(e,t){return Object(u.a)(Object(u.a)({},e),{},Object(f.a)({},t,o[t].value))}),{});t(n),l(!1),d(e)}}}({id:{value:"",valid:!1},firstName:{value:"",valid:!1},lastName:{value:"",valid:!1},email:{value:"",valid:!1},phone:{value:"",valid:!1}},t),l=a.fields,s=a.fieldNames,i=a.showToggle,o=a.editMode,d=a.allFieldsValid,b=a.changeHandler,j=a.onSubmit;return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"input-group ",role:"toolbar","aria-label":"Toolbar with button groups",children:Object(r.jsxs)("div",{className:"input-group input-group__custom mb-2",children:[Object(r.jsx)(H,{fieldNames:s,setFilterConfig:n}),Object(r.jsx)(U,{showToggle:i,editMode:o,allFieldsValid:d,onSubmit:j})]})}),o&&Object(r.jsx)("div",{className:"card mb-3 shadow-sm",children:Object(r.jsx)("div",{className:"card-body",children:Object(r.jsx)(J,{onSubmit:j,changeHandler:b,fieldNames:s,fields:l})})})]})},W=function(){var e=Object(c.useContext)(A),t=e.smallLoading,n=e.bigLoading,a=e.data,l=e.smallVolume,s=e.setInfo,i=e.addData,o=e.error,d=function(e,t){var n=Object(c.useState)({}),a=Object(h.a)(n,2),r=a[0],l=a[1],s=Object(c.useState)(!1),i=Object(h.a)(s,2),o=i[0],u=i[1];return{filteredData:Object(c.useMemo)((function(){u(!1);var n=t?Object(p.a)(e).slice(0,t):Object(p.a)(e);if(!r.value)return n;var a=n.filter((function(e){var t=e[r.type].toString().toLowerCase(),n=r.value.toLowerCase();return t.includes(n)}));return a.length?a:(u(!0),n)}),[e,r,t]),setFilterConfig:l,notFound:o}}(a,l),b=d.filteredData,j=d.setFilterConfig,m=d.notFound,O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(c.useState)(t),a=Object(h.a)(n,2),r=a[0],l=a[1];return{sortedData:Object(c.useMemo)((function(){return r.type?D(Object(p.a)(e),r.type,r.asc):e}),[e,r]),sortConfig:r,sortHandler:function(e){r.type===e?l(Object(u.a)(Object(u.a)({},r),{},{asc:!r.asc})):l({type:e,asc:!0})}}}(b),f=O.sortedData,g=O.sortConfig,v=O.sortHandler,x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a=Object(c.useState)(1),r=Object(h.a)(a,2),l=r[0],s=r[1],i=Math.ceil(e.length/n),o=Object(c.useMemo)((function(){return S(e,n,l)}),[e,n,l]);return Object(c.useEffect)((function(){s(1)}),[t]),{chunkNumber:l,setChunkNumber:s,totalChunks:i,chunkData:o}}(f,l),N=x.chunkData,w=x.chunkNumber,y=x.setChunkNumber,C=x.totalChunks,k=["id","firstName","lastName","email","phone"].map((function(e,t){return Object(r.jsxs)("th",{scope:"col",onClick:function(){return v(e)},children:[L(e)," ",g.type===e&&(g.asc?I:B)]},t)}));return t?Object(r.jsx)(_,{}):o?Object(r.jsx)(G,{text:o}):N.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(K,{addData:i,setFilterConfig:j}),m&&Object(r.jsx)(G,{text:"Not found"}),Object(r.jsxs)("table",{className:"table table-hover table-responsive-md mt",id:"table",children:[Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:k})}),Object(r.jsx)("tbody",{children:N.map((function(e){return Object(r.jsxs)("tr",{onClick:function(){return s(e)},children:[Object(r.jsx)("th",{scope:"row",children:e.id}),Object(r.jsx)("td",{children:L(e.firstName)}),Object(r.jsx)("td",{children:L(e.lastName)}),Object(r.jsx)("td",{children:e.email}),Object(r.jsx)("td",{children:e.phone})]},e.id+e.firstName)}))})]}),n&&Object(r.jsx)(_,{}),C>1&&Object(r.jsx)(V,{chunkNumber:w,setChunkNumber:y,totalChunks:C})]}):Object(r.jsxs)("p",{className:"text-muted text-center",children:["Determine the amount of data to load ",R]})};var Z=function(){return Object(r.jsxs)(T,{children:[Object(r.jsx)(o,{}),Object(r.jsxs)("div",{className:"container-lg pt-3",children:[Object(r.jsx)(z,{}),Object(r.jsx)(W,{}),Object(r.jsx)(E,{})]})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;n(e),a(e),r(e),c(e),l(e)}))};i.a.render(Object(r.jsx)(l.a.StrictMode,{children:Object(r.jsx)(Z,{})}),document.getElementById("root")),q()}},[[46,1,2]]]);
//# sourceMappingURL=main.3bd11e64.chunk.js.map